<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grocessory Login & Signup</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
  --primary:#00d9ff;
  --secondary:#3cff96;
  --btn-gradient:linear-gradient(90deg,#00ff90,#b6ff00);
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}

body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#000;
  overflow:hidden;
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url('login.jpg') center/cover no-repeat;
  filter:blur(12px) brightness(.55);
  z-index:-1;
}

/* ========== PRELOADER ========== */
#preloader{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  backdrop-filter:blur(15px);
  z-index:9999;
}
.loader-logo{
  font-size:3.5rem;
  font-weight:700;
  letter-spacing:6px;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:pulse 1.6s infinite alternate;
}
@keyframes pulse{to{transform:scale(1.08)}}

.loader-icons{
  display:flex;
  gap:22px;
  margin-top:25px;
  font-size:2.4rem;
  color:#fff;
}
.loader-icons i{
  animation:float 1.8s infinite ease-in-out;
}
.loader-icons i:nth-child(2){animation-delay:.3s}
.loader-icons i:nth-child(3){animation-delay:.6s}
@keyframes float{50%{transform:translateY(-15px)}}

.loading-bar{
  width:280px;
  height:6px;
  margin-top:30px;
  background:#fff3;
  border-radius:10px;
  overflow:hidden;
}
.loading-bar span{
  display:block;
  height:100%;
  width:0;
  background:var(--btn-gradient);
  animation:load 3s forwards;
}
@keyframes load{to{width:100%}}

/* ========== FORM ========== */
.form-container{
  width:420px;
  background:#fff;
  padding:40px;
  border-radius:25px;
  box-shadow:0 30px 70px rgba(0,0,0,.35);
  display:none;
  animation:fade .8s ease forwards;
}
@keyframes fade{from{opacity:0;transform:translateY(25px)}to{opacity:1}}

h2{margin-bottom:25px}

.form-group{
  position:relative;
  margin-bottom:22px;
}
.form-group input{
  width:100%;
  padding:15px 45px 15px 18px;
  border:1px solid #ccc;
  border-radius:12px;
}
.form-group input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(0,217,255,.2);
  outline:none;
}
.form-group label{
  position:absolute;
  left:18px;
  top:50%;
  transform:translateY(-50%);
  color:#888;
  transition:.3s;
}
.form-group input:focus+label,
.form-group input:not(:placeholder-shown)+label{
  top:-9px;
  font-size:.75rem;
  background:#fff;
  padding:0 6px;
  color:var(--primary);
}

.password-toggle{
  position:absolute;
  right:16px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  color:#888;
}

.btn{
  width:100%;
  padding:15px;
  border:none;
  border-radius:12px;
  background:var(--btn-gradient);
  font-weight:600;
  cursor:pointer;
}
.btn:hover{opacity:.9}

.msg{
  margin-top:15px;
  font-size:.9rem;
  color:red;
  display:none;
}

.register-link{
  margin-top:20px;
}
.register-link a{
  color:var(--primary);
  text-decoration:none;
}

/* ========== REGISTER MODAL ========== */
#registerModal{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  backdrop-filter:blur(15px);
}
.modal-content{
  width:420px;
  background:#fff;
  padding:40px;
  border-radius:25px;
  position:relative;
  animation:fade .6s ease;
}
#closeModal{
  position:absolute;
  top:15px;
  right:18px;
  font-size:1.5rem;
  background:none;
  border:none;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- PRELOADER -->
<div id="preloader">
  <div class="loader-logo">GROCESSORY</div>
  <div class="loader-icons">
    <i class="fa-solid fa-apple-whole"></i>
    <i class="fa-solid fa-cart-shopping"></i>
    <i class="fa-solid fa-basket-shopping"></i>
  </div>
  <div class="loading-bar"><span></span></div>
</div>

<!-- LOGIN -->
<div class="form-container" id="loginBox">
  <h2>Welcome Back</h2>
  <form id="loginForm">
    <div class="form-group">
      <input type="email" id="loginEmail" placeholder=" " required>
      <label>Email</label>
    </div>
    <div class="form-group">
      <input type="password" id="loginPassword" placeholder=" " required>
      <label>Password</label>
      <i class="fa-solid fa-eye-slash password-toggle" onclick="toggle('loginPassword',this)"></i>
    </div>
    <button class="btn">Login</button>
    <div class="msg" id="loginMsg"></div>
  </form>

  <div class="register-link">
    Donâ€™t have an account? <a href="#" id="openRegister">Register</a>
  </div>
</div>

<!-- REGISTER -->
<div id="registerModal">
  <div class="modal-content">
    <button id="closeModal">&times;</button>
    <h2>Create Account</h2>
    <form id="registerForm">
      <div class="form-group">
        <input type="text" id="regName" placeholder=" " required>
        <label>Full Name</label>
      </div>
      <div class="form-group">
        <input type="email" id="regEmail" placeholder=" " required>
        <label>Email</label>
      </div>
      <div class="form-group">
        <input type="password" id="regPassword" placeholder=" " required>
        <label>Password</label>
        <i class="fa-solid fa-eye-slash password-toggle" onclick="toggle('regPassword',this)"></i>
      </div>
      <div class="form-group">
        <input type="password" id="regConfirm" placeholder=" " required>
        <label>Confirm Password</label>
        <i class="fa-solid fa-eye-slash password-toggle" onclick="toggle('regConfirm',this)"></i>
      </div>
      <button class="btn">Create Account</button>
      <div class="msg" id="regMsg"></div>
    </form>
  </div>
</div>

<script>
window.onload=()=>{
  setTimeout(()=>{
    preloader.style.display="none";
    loginBox.style.display="block";
  },3000);
};

openRegister.onclick=()=>registerModal.style.display="flex";
closeModal.onclick=()=>registerModal.style.display="none";

function toggle(id,icon){
  const input=document.getElementById(id);
  input.type=input.type==="password"?"text":"password";
  icon.classList.toggle("fa-eye");
  icon.classList.toggle("fa-eye-slash");
}

/* REGISTER */
registerForm.onsubmit=e=>{
  e.preventDefault();
  if(regPassword.value!==regConfirm.value){
    regMsg.textContent="Passwords do not match!";
    regMsg.style.display="block";
    return;
  }
  localStorage.setItem("user",
    JSON.stringify({email:regEmail.value,password:regPassword.value})
  );
  alert("Registration Successful! Please Login.");
  registerModal.style.display="none";
  loginBox.style.display="block";
};

/* LOGIN */
loginForm.onsubmit=e=>{
  e.preventDefault();
  const user=JSON.parse(localStorage.getItem("user"));
  if(!user){
    loginMsg.textContent="Please register first!";
    loginMsg.style.display="block";
    return;
  }
  if(loginEmail.value===user.email && loginPassword.value===user.password){
    alert("Login Successful!");
    window.location.href="grocessory-mall.html";
  }else{
    loginMsg.textContent="Wrong email or password!";
    loginMsg.style.display="block";
  }
};
</script>

</body>
</html>
